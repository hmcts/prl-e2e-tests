import { Page } from "@playwright/test";
import { Selectors } from "../../../../../common/selectors";
import { CommonReviewContent } from "../../../../../fixtures/citizen/createCase/C100/reviewPages/commonReviewContent";
import { Helpers } from "../../../../../common/helpers";
import AccessibilityTestHelper from "../../../../../common/accessibilityTestHelper";
import { CaJourneyWrittenConsentReviewContent } from "../../../../../fixtures/citizen/createCase/C100/reviewPages/caJourneyWrittenConsentReviewContent";
import { SecondMiroReviewContent } from "../../../../../fixtures/citizen/createCase/C100/reviewPages/secondMiroReviewContent";
import { CapitalizedRelationship, Relationship } from "../../../../../common/types";
import { CaJourneyMIAMHearingUrgency } from "../../../../../fixtures/citizen/createCase/C100/reviewPages/caJourneyMIAMHearingUrgency";
import { existsSync } from "fs";
import { MiamAttendanceType } from "../MIAM/miamPreviousAttendancePage";
import { MiamUrgencyType } from "../MIAM/miamUrgencyPage";
import { MiamOtherReasonForNotAttending } from "../MIAM/miamMiamOtherPage";
import { MiamChildProtectionConcernsType } from "../MIAM/miamChildProtectionPage";
import { c100ChildrenSupervisionRadios } from "../safetyConcerns/unsupervisedPage";

interface checkTextOptions {
  page: Page;
  accessibilityTest: boolean;
  reviewPageTopJourneyMotherFather: reviewPageTopJourneyMotherFather;
  relationshipType: Relationship;
}

interface caJourneyEmergencyProtectionOptions {
  page: Page;
  accessibilityTest: boolean;
  relationshipType: CapitalizedRelationship;
}

interface caJourneyMIAMUrgencyOptions {
  page: Page;
  accessibilityTest: boolean;
  relationshipType: Relationship;
  miamAttendanceType: MiamAttendanceType; // Decides which reason there is for previous MIAM attendance.
  miamUrgencyType: MiamUrgencyType; // Decides which reason there is for urgency.
  miamOtherReasonForNotAttending: MiamOtherReasonForNotAttending; // Decides which Other reason there is for not attending
  miamChildProtectionConcernsType: MiamChildProtectionConcernsType; // Decides which child protection concern is listed.
  c100ChildrenSupervision: c100ChildrenSupervisionRadios
}

interface caWrittenConsentJourneyOptions {
  page: Page;
  accessibilityTest: boolean;
  reviewPageTopJourneyMotherFather: reviewPageTopJourneyMotherFather;
  relationshipType: Relationship;
}

export type reviewPageTopJourneyMotherFather = "mother" | "father";

const statementOfTruthCheckbox: string = "#statementOfTruth";

export class ReviewPage {
  private static async checkCommonText({
    page,
    accessibilityTest,
  }: Partial<checkTextOptions>): Promise<void> {
    if (!page) {
      throw new Error();
    }
    await page
      .locator(
        `${Selectors.GovukHeadingXL}:text-is("${CommonReviewContent.pageTitle}")`,
      )
      .waitFor();
    await Promise.all([
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.GovukBodyL}:text-is("${CommonReviewContent.bodyL}")`,
        1,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.h1}:text-is("${CommonReviewContent.statementTitle}")`,
        1,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.GovukHeadingM}:text-is("${CommonReviewContent.confirmationHeading}")`,
        1,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.p}:text-is("${CommonReviewContent.insetText}")`,
        1,
      ),
      Helpers.checkGroup(
        page,
        2,
        CommonReviewContent,
        "label",
        Selectors.GovukLabel,
      ),
      Helpers.checkGroup(
        page,
        2,
        CommonReviewContent,
        "strong",
        Selectors.strong,
      ),
    ]);
    // if (accessibilityTest) {
    //   await AccessibilityTestHelper.run(page); #TODO Disabled pending PRL-6619 ticket
    // }
  }

  private static async fillInFields(page: Page): Promise<void> {
    await page.check(statementOfTruthCheckbox);
    await page.click(
      `${Selectors.GovukButton}:text-is("${CommonReviewContent.submitButton}")`,
    );
  }

  public static async c100CAWithWrittenConsentFromOtherPeople({
    page,
    accessibilityTest,
    reviewPageTopJourneyMotherFather,
    relationshipType,
  }: caWrittenConsentJourneyOptions): Promise<void> {
    await this.checkCommonText({
      page,
      accessibilityTest,
      reviewPageTopJourneyMotherFather,
      relationshipType,
    });
    const relationshipKey = `dd_${relationshipType}` as keyof typeof CaJourneyWrittenConsentReviewContent
    await Promise.all([
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dd}:text-is("${CaJourneyWrittenConsentReviewContent[relationshipKey]}")`,
        3
      ),
      Helpers.checkGroup(
        page,
        21,
        CaJourneyWrittenConsentReviewContent,
        "h2_",
        `${Selectors.h2}`,
      ),
      Helpers.checkGroup(
        page,
        81,
        CaJourneyWrittenConsentReviewContent,
        "dt_",
        `${Selectors.dt}`,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dt}:text-is("${CaJourneyWrittenConsentReviewContent.dt_whatTypeOfBehaviourHaveTheChildrenExperiencedOrAreAtRiskOfExperiencing}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dt}:text-is("${CaJourneyWrittenConsentReviewContent.dt_haveTheyChangedTheirName}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dt}:text-is("${CaJourneyWrittenConsentReviewContent.dt_placeOfBirth}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dt}:text-is("${CaJourneyWrittenConsentReviewContent.dt_relationshipToExampletextExampletext}")`,
        3
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dt}:text-is("${CaJourneyWrittenConsentReviewContent.dt_fullName}")`,
        5
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dt}:text-is("${CaJourneyWrittenConsentReviewContent.dt_dateOfBirth}")`,
        5
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dt}:text-is("${CaJourneyWrittenConsentReviewContent.dt_gender}")`,
        5
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dt}:text-is("${CaJourneyWrittenConsentReviewContent.dt_addressDetails}")`,
        3
      ),
      Helpers.checkGroup(
        page,
        14,
        CaJourneyWrittenConsentReviewContent,
        "dd_",
        `${Selectors.dd}`,
      ),
      // Using Selectors.dd for dd_ prefixed items in CaJourneyWrittenConsentReviewContent
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dd}:text-is("${CaJourneyWrittenConsentReviewContent.dd_swansea}")`,
        3
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dd}:text-is("${CaJourneyWrittenConsentReviewContent.dd_exampletextExampletext}")`,
        4
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dd}:text-is("${CaJourneyWrittenConsentReviewContent.dd_12October2008}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dd}:text-is("${CaJourneyWrittenConsentReviewContent.dd_yes}")`,
        36
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dd}:text-is("${CaJourneyWrittenConsentReviewContent.dd_male}")`,
        5
      ),
      Helpers.checkGroup(
        page,
        81,
        CaJourneyWrittenConsentReviewContent,
        'span_',
        Selectors.Span
      ),
// Using Selectors.Span for span_ prefixed items in CaJourneyWrittenConsentReviewContent
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.Span}:text-is("${CaJourneyWrittenConsentReviewContent.span_whatTypeOfBehaviourHaveTheChildrenExperiencedOrAreAtRiskOfExperiencing}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.Span}:text-is("${CaJourneyWrittenConsentReviewContent.span_haveTheyChangedTheirName}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.Span}:text-is("${CaJourneyWrittenConsentReviewContent.span_placeOfBirth}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.Span}:text-is("${CaJourneyWrittenConsentReviewContent.span_fullName}")`,
        5
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.Span}:text-is("${CaJourneyWrittenConsentReviewContent.span_dateOfBirth}")`,
        5
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.Span}:text-is("${CaJourneyWrittenConsentReviewContent.span_gender}")`,
        5
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.Span}:text-is("${CaJourneyWrittenConsentReviewContent.span_relationshipToExampletextExampletext}")`,
        3
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.Span}:text-is("${CaJourneyWrittenConsentReviewContent.span_addressDetails}")`,
        3
      ),
      Helpers.checkGroup(
        page,
        80,
        CaJourneyWrittenConsentReviewContent,
        'li_',
        Selectors.li
      ),
      // Using Selectors.li for li_ prefixed items in CaJourneyWrittenConsentReviewContent
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${CaJourneyWrittenConsentReviewContent.li_otherLoremIpsumOther}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${CaJourneyWrittenConsentReviewContent.li_visitToCourtBeforeTheHearing}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${CaJourneyWrittenConsentReviewContent.li_somethingElse}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${CaJourneyWrittenConsentReviewContent.li_physicalAbuse}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${CaJourneyWrittenConsentReviewContent.li_psychologicalAbuse}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${CaJourneyWrittenConsentReviewContent.li_emotionalAbuse}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${CaJourneyWrittenConsentReviewContent.li_sexualAbuse}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${CaJourneyWrittenConsentReviewContent.li_financialAbuse}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${CaJourneyWrittenConsentReviewContent.li_aSpecificHolidayOrArrangement}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${CaJourneyWrittenConsentReviewContent.li_whatSchoolTheChildrenWillGoTo}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${CaJourneyWrittenConsentReviewContent.li_aReligiousIssue}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${CaJourneyWrittenConsentReviewContent.li_medicalTreatment}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${CaJourneyWrittenConsentReviewContent.li_returningTheChildrenToYourCare}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${CaJourneyWrittenConsentReviewContent.li_changingTheChildrensNamesOrSurname}")`,
        4
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${CaJourneyWrittenConsentReviewContent.li_allowingMedicalTreatmentToBeCarriedOutOnTheChildren}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${CaJourneyWrittenConsentReviewContent.li_takingTheChildrenOnHoliday}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${CaJourneyWrittenConsentReviewContent.li_decideWhoTheChildrenLiveWithAndWhen}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${CaJourneyWrittenConsentReviewContent.li_decideHowMuchTimeTheChildrenSpendWithEachPerson}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${CaJourneyWrittenConsentReviewContent.li_relocatingTheChildrenToADifferentAreaInEnglandAndWales}")`,
        4
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${CaJourneyWrittenConsentReviewContent.li_relocatingTheChildrenOutsideOfEnglandAndWalesincludingScotlandAndNorthernIreland}")`,
        4
      ),
      Helpers.checkGroup(
        page,
        17,
        CaJourneyWrittenConsentReviewContent,
        'h4_',
        Selectors.h4
      ),
      // Using Selectors.h4 for h4_ prefixed items in CaJourneyWrittenConsentReviewContent
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.h4}:text-is("${CaJourneyWrittenConsentReviewContent.h4_whichCourtIssuedTheOrderoptional}")`,
        16
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.h4}:text-is("${CaJourneyWrittenConsentReviewContent.h4_caseNumberoptional}")`,
        16
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.h4}:text-is("${CaJourneyWrittenConsentReviewContent.h4_whatDateWasItMadeoptional}")`,
        16
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.h4}:text-is("${CaJourneyWrittenConsentReviewContent.h4_child1}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.h4}:text-is("${CaJourneyWrittenConsentReviewContent.h4_details}")`,
        24
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.h4}:text-is("${CaJourneyWrittenConsentReviewContent.h4_isThisACurrentOrderoptional}")`,
        16
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.h4}:text-is("${CaJourneyWrittenConsentReviewContent.h4_whatDateDidItEndoptional}")`,
        16
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.h4}:text-is("${CaJourneyWrittenConsentReviewContent.h4_doYouHaveACopyOfTheOrderoptional}")`,
        16
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.h4}:text-is("${CaJourneyWrittenConsentReviewContent.h4_whichChildrenAreYouConcernedAboutoptional}")`,
        5
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.h4}:text-is("${CaJourneyWrittenConsentReviewContent.h4_describeTheBehavioursYouWouldLikeTheCourtToBeAwareOfoptional}")`,
        11
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.h4}:text-is("${CaJourneyWrittenConsentReviewContent.h4_whenDidThisBehaviourStartAndHowLongDidItContinueoptional}")`,
        11
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.h4}:text-is("${CaJourneyWrittenConsentReviewContent.h4_isTheBehaviourOngoingoptional}")`,
        11
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.h4}:text-is("${CaJourneyWrittenConsentReviewContent.h4_haveYouEverAskedForHelpFromAProfessionalPersonOrAgencyoptional}")`,
        11
      ),
      Helpers.checkGroup(
        page,
        21,
        CaJourneyWrittenConsentReviewContent,
        'p_',
        Selectors.p
      ),
      // Using Selectors.p for p_ prefixed items in CaJourneyWrittenConsentReviewContent
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.p}:text-is("${CaJourneyWrittenConsentReviewContent.p_loremIpsumStartDetails}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.p}:text-is("${CaJourneyWrittenConsentReviewContent.p_10July2014}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.p}:text-is("${CaJourneyWrittenConsentReviewContent.p_10July2018}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.p}:text-is("${CaJourneyWrittenConsentReviewContent.p_automatedOccupationOrderCourt}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.p}:text-is("${CaJourneyWrittenConsentReviewContent.p_18August2015}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.p}:text-is("${CaJourneyWrittenConsentReviewContent.p_18August2018}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.p}:text-is("${CaJourneyWrittenConsentReviewContent.p_automatedChildAbductionOrderCourt}")`,
        3
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.p}:text-is("${CaJourneyWrittenConsentReviewContent.p_10June2015}")`,
        3
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.p}:text-is("${CaJourneyWrittenConsentReviewContent.p_bs19f99999}")`,
        16
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.p}:text-is("${CaJourneyWrittenConsentReviewContent.p_10July2016}")`,
        5
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.p}:text-is("${CaJourneyWrittenConsentReviewContent.p_10July2017}")`,
        6
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.p}:text-is("${CaJourneyWrittenConsentReviewContent.p_yes}")`,
        39
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.p}:text-is("${CaJourneyWrittenConsentReviewContent.p_10June2017}")`,
        3
      ),
      Helpers.checkGroup(
        page,
        13,
        CaJourneyWrittenConsentReviewContent,
        'div_',
        Selectors.div
      ),
      // Using Selectors.div for div_ prefixed items in CaJourneyWrittenConsentReviewContent
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.div}:text-is("${CaJourneyWrittenConsentReviewContent.div_automatedEmotionalSeekHelpDetails}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.div}:text-is("${CaJourneyWrittenConsentReviewContent.div_automatedPhysicalSeekHelpDetails}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.div}:text-is("${CaJourneyWrittenConsentReviewContent.div_yes}")`,
        12
      )
    ]);
    await this.fillInFields(page);
  }

  public static async submitSecondMiro({
    page,
    accessibilityTest,
    relationshipType,
  }: caJourneyEmergencyProtectionOptions): Promise<void> {
    if (!page) {
      throw new Error();
    }
    await this.checkCommonText({
      page,
      accessibilityTest,
      relationshipType,
    });
    await Promise.all([
      Helpers.checkGroup(
        page,
        25,
        SecondMiroReviewContent,
        "h2_",
        Selectors.h2,
      ),
      Helpers.checkGroup(
        page,
        87,
        SecondMiroReviewContent,
        "dt_",
        Selectors.dt,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dt}:text-is("${SecondMiroReviewContent.dt_whatTypeOfBehaviourHaveTheChildrenExperiencedOrAreAtRiskOfExperiencing}")`,
        2,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dt}:text-is("${SecondMiroReviewContent.dt_haveTheyChangedTheirName}")`,
        2,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dt}:text-is("${SecondMiroReviewContent.dt_placeOfBirth}")`,
        2,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dt}:text-is("${SecondMiroReviewContent.dt_relationshipToExampletextExampletext}")`,
        3,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dt}:text-is("${SecondMiroReviewContent.dt_addressDetails}")`,
        3,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dt}:text-is("${SecondMiroReviewContent.dt_fullName}")`,
        5,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dt}:text-is("${SecondMiroReviewContent.dt_dateOfBirth}")`,
        5,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dt}:text-is("${SecondMiroReviewContent.dt_gender}")`,
        5,
      ),
      Helpers.checkGroup(
        page,
        14,
        SecondMiroReviewContent,
        "dd_",
        Selectors.dd,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dd}:text-is("${SecondMiroReviewContent.dd_example}")`,
        2,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dd}:text-is("${SecondMiroReviewContent.dd_Other}")`,
        3,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dd}:text-is("${SecondMiroReviewContent.dd_janeDoe}")`,
        2,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dd}:text-is("${SecondMiroReviewContent.dd_swansea}")`,
        3,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dd}:has-text("${relationshipType}")`,
        3,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dd}:text-is("${SecondMiroReviewContent.dd_exampletextExampletext}")`,
        3,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dd}:text-is("${SecondMiroReviewContent.dd_12October2008}")`,
        2,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dd}:text-is("${SecondMiroReviewContent.dd_male}")`,
        2,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dd}:text-is("${SecondMiroReviewContent.dd_no}")`,
        2,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dd}:text-is("${SecondMiroReviewContent.dd_yes}")`,
        38,
      ),
      Helpers.checkGroup(
        page,
        87,
        SecondMiroReviewContent,
        "span_",
        Selectors.Span,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.Span}:text-is("${SecondMiroReviewContent.span_whatTypeOfBehaviourHaveTheChildrenExperiencedOrAreAtRiskOfExperiencing}")`,
        2,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.Span}:text-is("${SecondMiroReviewContent.span_haveTheyChangedTheirName}")`,
        2,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.Span}:text-is("${SecondMiroReviewContent.span_placeOfBirth}")`,
        2,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.Span}:text-is("${SecondMiroReviewContent.span_relationshipToExampletextExampletext}")`,
        3,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.Span}:text-is("${SecondMiroReviewContent.span_addressDetails}")`,
        3,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.Span}:text-is("${SecondMiroReviewContent.span_fullName}")`,
        5,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.Span}:text-is("${SecondMiroReviewContent.span_dateOfBirth}")`,
        5,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.Span}:text-is("${SecondMiroReviewContent.span_gender}")`,
        5,
      ),
      Helpers.checkGroup(
        page,
        83,
        SecondMiroReviewContent,
        "li_",
        Selectors.li,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${SecondMiroReviewContent.li_otherLoremIpsumOther}")`,
        2,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${SecondMiroReviewContent.li_visitToCourtBeforeTheHearing}")`,
        2,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${SecondMiroReviewContent.li_somethingElse}")`,
        2,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${SecondMiroReviewContent.li_physicalAbuse}")`,
        2,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${SecondMiroReviewContent.li_psychologicalAbuse}")`,
        2,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${SecondMiroReviewContent.li_emotionalAbuse}")`,
        2,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${SecondMiroReviewContent.li_sexualAbuse}")`,
        2,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${SecondMiroReviewContent.li_financialAbuse}")`,
        2,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${SecondMiroReviewContent.li_exampletextExampletext}")`,
        6,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${SecondMiroReviewContent.li_aSpecificHolidayOrArrangement}")`,
        2,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${SecondMiroReviewContent.li_whatSchoolTheChildrenWillGoTo}")`,
        2,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${SecondMiroReviewContent.li_aReligiousIssue}")`,
        2,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${SecondMiroReviewContent.li_medicalTreatment}")`,
        2,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${SecondMiroReviewContent.li_changingTheChildrensNamesOrSurname}")`,
        4,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${SecondMiroReviewContent.li_allowingMedicalTreatmentToBeCarriedOutOnTheChildren}")`,
        2,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${SecondMiroReviewContent.li_takingTheChildrenOnHoliday}")`,
        2,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${SecondMiroReviewContent.li_relocatingTheChildrenToADifferentAreaInEnglandAndWales}")`,
        4,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${SecondMiroReviewContent.li_relocatingTheChildrenOutsideOfEnglandAndWalesincludingScotlandAndNorthernIreland}")`,
        4,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${SecondMiroReviewContent.li_decideWhoTheChildrenLiveWithAndWhen}")`,
        2,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${SecondMiroReviewContent.li_decideHowMuchTimeTheChildrenSpendWithEachPerson}")`,
        2,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${SecondMiroReviewContent.li_returningTheChildrenToYourCare}")`,
        2,
      ),
      Helpers.checkGroup(
        page,
        17,
        SecondMiroReviewContent,
        "h4_",
        Selectors.h4,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.h4}:text-is("${SecondMiroReviewContent.h4_child1}")`,
        2,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.h4}:text-is("${SecondMiroReviewContent.h4_details}")`,
        26,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.h4}:text-is("${SecondMiroReviewContent.h4_whichCourtIssuedTheOrderoptional}")`,
        16,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.h4}:text-is("${SecondMiroReviewContent.h4_caseNumberoptional}")`,
        16,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.h4}:text-is("${SecondMiroReviewContent.h4_whatDateWasItMadeoptional}")`,
        16,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.h4}:text-is("${SecondMiroReviewContent.h4_isThisACurrentOrderoptional}")`,
        16,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.h4}:text-is("${SecondMiroReviewContent.h4_whatDateDidItEndoptional}")`,
        16,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.h4}:text-is("${SecondMiroReviewContent.h4_doYouHaveACopyOfTheOrderoptional}")`,
        16,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.h4}:text-is("${SecondMiroReviewContent.h4_whichChildrenAreYouConcernedAboutoptional}")`,
        5,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.h4}:text-is("${SecondMiroReviewContent.h4_describeTheBehavioursYouWouldLikeTheCourtToBeAwareOfoptional}")`,
        11,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.h4}:text-is("${SecondMiroReviewContent.h4_whenDidThisBehaviourStartAndHowLongDidItContinueoptional}")`,
        11,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.h4}:text-is("${SecondMiroReviewContent.h4_isTheBehaviourOngoingoptional}")`,
        11,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.h4}:text-is("${SecondMiroReviewContent.h4_haveYouEverAskedForHelpFromAProfessionalPersonOrAgencyoptional}")`,
        11,
      ),
      Helpers.checkGroup(page, 21, SecondMiroReviewContent, "p_", Selectors.p),
      Helpers.checkGroup(
        page,
        13,
        SecondMiroReviewContent,
        "div_",
        Selectors.div,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.p}:text-is("${SecondMiroReviewContent.p_exampletext}")`,
        6,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.p}:text-is("${SecondMiroReviewContent.p_loremIpsumStartDetails}")`,
        2,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.p}:text-is("${SecondMiroReviewContent.p_10July2014}")`,
        2,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.p}:text-is("${SecondMiroReviewContent.p_automatedOccupationOrderCourt}")`,
        2,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.p}:text-is("${SecondMiroReviewContent.p_10July2018}")`,
        2,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.p}:text-is("${SecondMiroReviewContent.p_18August2015}")`,
        2,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.p}:text-is("${SecondMiroReviewContent.p_automatedChildAbductionOrderCourt}")`,
        3,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.p}:text-is("${SecondMiroReviewContent.p_10June2015}")`,
        3,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.p}:text-is("${SecondMiroReviewContent.p_10June2017}")`,
        3,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.p}:text-is("${SecondMiroReviewContent.p_bs19f99999}")`,
        16,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.p}:text-is("${SecondMiroReviewContent.p_10July2016}")`,
        5,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.p}:text-is("${SecondMiroReviewContent.p_yes}")`,
        39,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.p}:text-is("${SecondMiroReviewContent.p_10July2017}")`,
        6,
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.p}:text-is("${SecondMiroReviewContent.p_18August2018}")`,
        2,
      ),
    ]);
    await this.fillInFields(page);
  }

  public static async c100CAMIAMHearingUrgency({
                                         page,
                                         accessibilityTest,
                                         miamAttendanceType,
                                         miamUrgencyType,
                                         miamChildProtectionConcernsType,
                                         miamOtherReasonForNotAttending,
                                         c100ChildrenSupervision
                                       }: caJourneyMIAMUrgencyOptions): Promise<void> {
    await this.checkCommonText({
      page: page,
      accessibilityTest: accessibilityTest
    });
    let yesCount = 9;
    if (c100ChildrenSupervision === 'yesSpendTime') {
      yesCount += 1
    }
    await Promise.all([
      Helpers.checkGroup(
        page,
        26,
        CaJourneyMIAMHearingUrgency,
        'h2_',
        Selectors.h2
      ),
      Helpers.checkGroup(
        page,
        75,
        CaJourneyMIAMHearingUrgency,
        'dt_',
        Selectors.dt
      ),
      Helpers.checkGroup(
        page,
        15,
        CaJourneyMIAMHearingUrgency,
        'dd_',
        Selectors.dd
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dd}:text-is("${CaJourneyMIAMHearingUrgency.dd_Swansea}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dd}:text-is("${CaJourneyMIAMHearingUrgency.dd_DontKnow}")`,
        2
      ),
      Helpers.checkGroup(
        page,
        75,
        CaJourneyMIAMHearingUrgency,
        'span_',
        Selectors.Span
      ),
      // Using Selectors.dt for dt_ prefixed items
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dt}:text-is("${CaJourneyMIAMHearingUrgency.dt_whatTypeOfBehaviourHaveTheChildrenExperiencedOrAreAtRiskOfExperiencing}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dt}:text-is("${CaJourneyMIAMHearingUrgency.dt_relationshipToExampletextExampletext}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dt}:text-is("${CaJourneyMIAMHearingUrgency.dt_addressDetails}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dt}:text-is("${CaJourneyMIAMHearingUrgency.dt_fullName}")`,
        3
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dt}:text-is("${CaJourneyMIAMHearingUrgency.dt_dateOfBirth}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dt}:text-is("${CaJourneyMIAMHearingUrgency.dt_gender}")`,
        3
      ),

// Using Selectors.dd for dd_ prefixed items
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dd}:text-is("${CaJourneyMIAMHearingUrgency.dd_yes}")`,
        yesCount
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dd}:text-is("${CaJourneyMIAMHearingUrgency.dd_janeDoe}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dd}:text-is("${CaJourneyMIAMHearingUrgency.dd_8November2002}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dd}:text-is("${CaJourneyMIAMHearingUrgency.dd_other}")`,
        3
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dd}:text-is("${CaJourneyMIAMHearingUrgency.dd_exampletextExampletext}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dd}:text-is("${CaJourneyMIAMHearingUrgency.dd_no}")`,
        29
      ),
      Helpers.checkGroup(
        page,
        40,
        CaJourneyMIAMHearingUrgency,
        'li_',
        Selectors.li
      ),
      // Using Selectors.Span for span_ prefixed items
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.Span}:text-is("${CaJourneyMIAMHearingUrgency.span_whatTypeOfBehaviourHaveTheChildrenExperiencedOrAreAtRiskOfExperiencing}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.Span}:text-is("${CaJourneyMIAMHearingUrgency.span_fullName}")`,
        3
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.Span}:text-is("${CaJourneyMIAMHearingUrgency.span_dateOfBirth}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.Span}:text-is("${CaJourneyMIAMHearingUrgency.span_gender}")`,
        3
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.Span}:text-is("${CaJourneyMIAMHearingUrgency.span_relationshipToExampletextExampletext}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.Span}:text-is("${CaJourneyMIAMHearingUrgency.span_addressDetails}")`,
        2
      ),
      Helpers.checkGroup(
        page,
        2,
        CaJourneyMIAMHearingUrgency,
        'b_',
        Selectors.b
      ),
      Helpers.checkGroup(
        page,
        5,
        CaJourneyMIAMHearingUrgency,
        'ul_',
        Selectors.ul
      ),
      Helpers.checkGroup(
        page,
        9,
        CaJourneyMIAMHearingUrgency,
        'h4_',
        Selectors.h4
      ),
      // Using Selectors.h4 for h4_ prefixed items
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.h4}:text-is("${CaJourneyMIAMHearingUrgency.h4_whichChildrenAreYouConcernedAboutoptional}")`,
        5
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.h4}:text-is("${CaJourneyMIAMHearingUrgency.h4_describeTheBehavioursYouWouldLikeTheCourtToBeAwareOfoptional}")`,
        11
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.h4}:text-is("${CaJourneyMIAMHearingUrgency.h4_whenDidThisBehaviourStartAndHowLongDidItContinueoptional}")`,
        11
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.h4}:text-is("${CaJourneyMIAMHearingUrgency.h4_isTheBehaviourOngoingoptional}")`,
        11
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.h4}:text-is("${CaJourneyMIAMHearingUrgency.h4_haveYouEverAskedForHelpFromAProfessionalPersonOrAgencyoptional}")`,
        11
      ),
      // Using Selectors.li for li_ prefixed items
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${CaJourneyMIAMHearingUrgency.li_somethingElse}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${CaJourneyMIAMHearingUrgency.li_physicalAbuse}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${CaJourneyMIAMHearingUrgency.li_psychologicalAbuse}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${CaJourneyMIAMHearingUrgency.li_emotionalAbuse}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${CaJourneyMIAMHearingUrgency.li_sexualAbuse}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${CaJourneyMIAMHearingUrgency.li_financialAbuse}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${CaJourneyMIAMHearingUrgency.li_aSpecificHolidayOrArrangement}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${CaJourneyMIAMHearingUrgency.li_whatSchoolTheChildrenWillGoTo}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${CaJourneyMIAMHearingUrgency.li_aReligiousIssue}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${CaJourneyMIAMHearingUrgency.li_medicalTreatment}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${CaJourneyMIAMHearingUrgency.li_changingTheChildrensNamesOrSurname}")`,
        4
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${CaJourneyMIAMHearingUrgency.li_allowingMedicalTreatmentToBeCarriedOutOnTheChildren}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${CaJourneyMIAMHearingUrgency.li_decideWhoTheChildrenLiveWithAndWhen}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${CaJourneyMIAMHearingUrgency.li_decideHowMuchTimeTheChildrenSpendWithEachPerson}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${CaJourneyMIAMHearingUrgency.li_takingTheChildrenOnHoliday}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${CaJourneyMIAMHearingUrgency.li_relocatingTheChildrenToADifferentAreaInEnglandAndWales}")`,
        4
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${CaJourneyMIAMHearingUrgency.li_relocatingTheChildrenOutsideOfEnglandAndWalesincludingScotlandAndNorthernIreland}")`,
        4
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${CaJourneyMIAMHearingUrgency.li_returningTheChildrenToYourCare}")`,
        2
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.li}:text-is("${CaJourneyMIAMHearingUrgency.li_exampletextExampletext}")`,
        6
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.div}:text-is("${CaJourneyMIAMHearingUrgency.div_no}")`,
        11
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.div}:text-is("${CaJourneyMIAMHearingUrgency.div_1}")`,
        1
      ),
      Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.p}:text-is("${CaJourneyMIAMHearingUrgency.p_no}")`,
        4
      )
    ]);
    if (c100ChildrenSupervision === 'yesButSupervised') {
      await Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dd}:text-is("${CaJourneyMIAMHearingUrgency.dd_YesSupervised}")`,
        1
      )
    }
    if (miamAttendanceType === 'Previous 4 months') {
      await Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dd}:text-is("${CaJourneyMIAMHearingUrgency.dd_FourMonths}")`,
        1
      );
      await Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.b}:text-is("${CaJourneyMIAMHearingUrgency.b_evidence}")`,
        1
      )
    } else {
      await Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dd}:text-is("${CaJourneyMIAMHearingUrgency.dd_none}")`,
        3
      )
    }
    switch (miamUrgencyType) {
      case "Risk to life":
        await Helpers.checkVisibleAndPresent(
          page,
          `${Selectors.dd}:text-is("${CaJourneyMIAMHearingUrgency.dd_riskToLife}")`,
          1,
        );
        break;
      case "Risk to family life":
        await Helpers.checkVisibleAndPresent(
          page,
          `${Selectors.dd}:text-is("${CaJourneyMIAMHearingUrgency.dd_RiskToFamily}")`,
          1,
        );
        break;
      case "Risk to safety of home":
        await Helpers.checkVisibleAndPresent(
          page,
          `${Selectors.dd}:text-is("${CaJourneyMIAMHearingUrgency.dd_RiskToHome}")`,
          1,
        );
        break;
      case "Delay causing risk of harm":
        await Helpers.checkVisibleAndPresent(
          page,
          `${Selectors.dd}:text-is("${CaJourneyMIAMHearingUrgency.dd_CauseHarm}")`,
          1,
        );
        break;
      case "Delay causing risk of financial hardship":
        await Helpers.checkVisibleAndPresent(
          page,
          `${Selectors.dd}:text-is("${CaJourneyMIAMHearingUrgency.dd_FinancialHardship}")`,
          1
        )
        break
      case "Delay causing risk of irretrievable problems":
        await Helpers.checkVisibleAndPresent(
          page,
          `${Selectors.dd}:text-is("${CaJourneyMIAMHearingUrgency.dd_Irretrievable}")`,
          1
        )
        break
      case 'Delay dispute starting in another country':
        await Helpers.checkVisibleAndPresent(
          page,
          `${Selectors.dd}:text-is("${CaJourneyMIAMHearingUrgency.dd_AbroadCourt}")`,
          1
        )
        break
      case 'Delay causing risk of unfair court decision':
        await Helpers.checkVisibleAndPresent(
          page,
          `${Selectors.dd}:text-is("${CaJourneyMIAMHearingUrgency.dd_UnfairCourt}")`,
          1
        )
        break
      case 'Delay causing risk of removal':
        await Helpers.checkVisibleAndPresent(
          page,
          `${Selectors.dd}:text-is("${CaJourneyMIAMHearingUrgency.dd_ChildrenRemoved}")`,
          1
        )
        break
      default:
        if (existsSync('.env')) {
          console.log(
            `Unrecognised urgency type: ${miamUrgencyType}`
          )
        }
    }
    if (miamChildProtectionConcernsType === 'Child protection plan') {
      await Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dd}:text-is("${CaJourneyMIAMHearingUrgency.dd_ChildProtection}")`,
        1
      )
    }
    if (miamOtherReasonForNotAttending === 'Applying for without notice') {
      await Helpers.checkVisibleAndPresent(
        page,
        `${Selectors.dd}:text-is("${CaJourneyMIAMHearingUrgency.dd_WithoutNotice}")`,
        1
      )
    }
    await this.fillInFields(page)
  }
}
